<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¿ƒéˆç™‚ç™’è½‰ç›¤ | å¤©ä½¿ä¹‹æ„›é­”æ³•æ¨‚ç”Ÿæ´»åœ˜éšŠ</title>
    
    <!-- 1. æ¨£å¼åº« (Tailwind CSS) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. å­—é«”åº« -->
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
    
    <!-- 3. åœ–ç¤ºåº« -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* å…¨åŸŸå­—é«”è¨­å®š */
        body {
            font-family: "Varela Round", "Microsoft JhengHei", "PingFang TC", system-ui, sans-serif;
            background-color: #D7CCC8; /* å¤–éƒ¨èƒŒæ™¯è‰² */
            overflow: hidden; /* é˜²æ­¢ä¸»è¦–çª—æ²å‹• */
            touch-action: manipulation; /* å„ªåŒ–è§¸æ§ */
            margin: 0;
            padding: 0;
        }

        /* éš±è—æ²è»¸ä½†å…è¨±æ²å‹• */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* --- å‹•ç•«é—œéµå½±æ ¼å®šç¾© --- */
        @keyframes float-slow {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }
        @keyframes pulse-slow {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes scale-up {
            0% { transform: scale(0.9); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes blessing-bg {
            0% { opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { opacity: 0; }
        }
        @keyframes beam {
            0% { height: 0; opacity: 0; }
            20% { height: 120vh; opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; }
        }
        @keyframes ping-slow {
            0% { transform: scale(0.8); opacity: 0.6; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        /* --- å¯¦ç”¨å‹•ç•«é¡åˆ¥ --- */
        .animate-float-slow { animation: float-slow 6s ease-in-out infinite; }
        .animate-pulse-slow { animation: pulse-slow 3s ease-in-out infinite; }
        .animate-spin-slow { animation: spin-slow 20s linear infinite; }
        .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
        .animate-scale-up { animation: scale-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-blessing-bg { animation: blessing-bg 3s ease-out forwards; }
        .animate-beam { animation: beam 3s ease-out forwards; }
        .animate-ping-slow { animation: ping-slow 3s infinite; }
        
        /* è½‰ç›¤æ—‹è½‰éæ¸¡æ•ˆæœ (3ç§’ç·©å‹•) */
        #wheel-container {
            transition: transform 3s cubic-bezier(0.1, 0.7, 0.1, 1);
        }
    </style>
</head>
<body class="flex justify-center min-h-screen">

    <!-- æ‰‹æ©Ÿç‰ˆé¢æ¨¡æ“¬å®¹å™¨ (é™åˆ¶å¯¬åº¦ 430px) -->
    <div class="w-full max-w-[430px] h-[100dvh] bg-[#EFEBE9] shadow-2xl relative flex flex-col overflow-y-auto overflow-x-hidden hide-scrollbar">
        
        <!-- èƒŒæ™¯è£é£¾å±¤ (çµ•å°å®šä½) -->
        <div class="absolute inset-0 overflow-hidden pointer-events-none z-0">
            <!-- è«è˜­è¿ªè‰²æšˆæŸ“ -->
            <div class="absolute top-[-10%] left-[-20%] w-[300px] h-[300px] bg-[#D1C4E9] rounded-full mix-blend-multiply filter blur-3xl opacity-30"></div>
            <div class="absolute bottom-[10%] right-[-20%] w-[250px] h-[250px] bg-[#C8E6C9] rounded-full mix-blend-multiply filter blur-3xl opacity-30"></div>
            <div class="absolute top-[40%] left-[60%] w-[200px] h-[200px] bg-[#FFCCBC] rounded-full mix-blend-multiply filter blur-3xl opacity-30"></div>
            <!-- å™ªé»ç´‹ç† -->
            <div class="absolute inset-0 opacity-[0.05]" style="background-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.65%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22/%3E%3C/svg%3E')"></div>
        </div>

        <!-- éŸ³æ•ˆé–‹é—œæŒ‰éˆ• (å³ä¸Šè§’) -->
        <button id="sound-btn" class="absolute top-4 right-4 z-40 p-2 rounded-full bg-white/60 text-[#8D6E63] hover:bg-white transition-colors shadow-sm cursor-pointer">
            <i data-lucide="volume-2" class="w-5 h-5" id="sound-icon-on"></i>
            <i data-lucide="volume-x" class="w-5 h-5 hidden" id="sound-icon-off"></i>
        </button>

        <!-- ä¸»å…§å®¹å€åŸŸ -->
        <div class="relative z-10 flex flex-col items-center flex-grow pt-12 pb-8 px-4">

            <!-- å¤©ä½¿æ’åœ– (SVG) -->
            <div class="relative mb-4 animate-float-slow z-20">
                <!-- èƒŒå¾Œå…‰æšˆ -->
                <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-white/50 blur-2xl rounded-full"></div>
                <!-- å¤©ä½¿åœ–æ¡ˆ -->
                <svg width="120" height="120" viewBox="0 0 100 100" class="drop-shadow-md">
                    <!-- ç¿…è†€ -->
                    <path d="M25 40 Q10 25 15 55 Q25 55 35 48" fill="#F5F5F5" stroke="#D7CCC8" stroke-width="1"/>
                    <path d="M75 40 Q90 25 85 55 Q75 55 65 48" fill="#F5F5F5" stroke="#D7CCC8" stroke-width="1"/>
                    <!-- èº«é«” -->
                    <path d="M35 50 Q30 90 25 95 L75 95 Q70 90 65 50 Z" fill="#FCE4EC" />
                    <!-- è‡‰èˆ‡é ­é«® -->
                    <circle cx="50" cy="38" r="14" fill="#FFE0B2" />
                    <path d="M35 38 Q35 15 50 15 Q65 15 65 38" fill="#A1887F" stroke="#A1887F" stroke-width="5" stroke-linecap="round" />
                    <circle cx="35" cy="38" r="3" fill="#A1887F" />
                    <circle cx="65" cy="38" r="3" fill="#A1887F" />
                    <!-- å…‰ç’° -->
                    <ellipse cx="50" cy="20" rx="15" ry="5" fill="none" stroke="#FFE082" stroke-width="3" class="animate-pulse-slow" />
                    <!-- è¡¨æƒ… -->
                    <path d="M43 40 Q46 43 49 40" fill="none" stroke="#5D4037" stroke-width="1.5" stroke-linecap="round" />
                    <path d="M51 40 Q54 43 57 40" fill="none" stroke="#5D4037" stroke-width="1.5" stroke-linecap="round" />
                    <path d="M48 46 Q50 48 52 46" fill="none" stroke="#EF9A9A" stroke-width="1.5" stroke-linecap="round" />
                    <!-- è…®ç´… -->
                    <circle cx="41" cy="45" r="2.5" fill="#EF9A9A" opacity="0.6"/>
                    <circle cx="59" cy="45" r="2.5" fill="#EF9A9A" opacity="0.6"/>
                    <!-- ç¥ˆç¦±çš„æ‰‹ -->
                    <circle cx="50" cy="60" r="5" fill="#FFE0B2" />
                </svg>
            </div>

            <!-- æ¨™é¡Œ -->
            <div class="text-center mb-6 relative z-10">
                <h1 class="text-3xl font-bold tracking-wider text-[#5D4037] drop-shadow-sm mb-2 transform -rotate-1">
                    å¿ƒéˆç™‚ç™’è½‰ç›¤
                </h1>
                <div class="h-[3px] w-20 bg-[#8D6E63]/30 mx-auto mb-2 rounded-full"></div>
                <p class="text-[#795548] text-base tracking-widest font-medium">
                    ä¾†è‡ªå®‡å®™çš„æº«æŸ”æé†’
                </p>
            </div>

            <!-- è½‰ç›¤ä¸»é«” (å¼·åˆ¶å°ºå¯¸ï¼Œç¢ºä¿é¡¯ç¤º) -->
            <div class="relative mt-2 mb-auto z-30" style="width: 300px; height: 300px;">
                <!-- ä¸Šæ–¹æŒ‡é‡ -->
                <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-6 z-40 filter drop-shadow-md">
                    <svg width="36" height="54" viewBox="0 0 40 60">
                        <path d="M20 60 L18 20 L22 20 Z" fill="#8D6E63" />
                        <path d="M20 20 L5 5 L20 0 L35 5 Z" fill="#FFF" stroke="#8D6E63" stroke-width="2"/>
                        <circle cx="20" cy="10" r="4" fill="#8D6E63" class="animate-pulse-slow"/>
                    </svg>
                </div>

                <!-- æ—‹è½‰åœ“ç›¤å®¹å™¨ -->
                <div id="wheel-container" class="w-full h-full rounded-full border-[6px] border-[#EFEBE9] shadow-xl bg-[#EFEBE9] relative overflow-hidden box-border">
                    <svg id="wheel-svg" viewBox="0 0 100 100" class="w-full h-full">
                        <!-- JS å°‡æœƒåœ¨é€™è£¡ç”Ÿæˆæ‰‡å½¢ -->
                    </svg>
                    
                    <!-- ä¸­å¿ƒè£é£¾ -->
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-14 h-14 bg-[#FFF] rounded-full flex items-center justify-center shadow-inner z-10 border-4 border-[#D7CCC8]">
                         <i data-lucide="smile" class="w-7 h-7 text-[#8D6E63] animate-bounce-slow"></i>
                    </div>
                </div>
            </div>

            <!-- å•Ÿå‹•æŒ‰éˆ• -->
            <button id="spin-btn" class="mt-8 px-8 py-3 rounded-full border-2 border-[#BCAAA4] text-[#5D4037] bg-[#EFEBE9] font-bold text-base shadow-[0_4px_0_#A1887F] hover:translate-y-1 hover:shadow-none transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed group relative overflow-hidden flex items-center gap-2 cursor-pointer z-30">
                <span class="flex items-center gap-2" id="btn-text-idle">
                    <i data-lucide="star" class="w-5 h-5 text-[#8D6E63]"></i>
                    å•Ÿå‹•è½‰ç›¤
                    <i data-lucide="star" class="w-5 h-5 text-[#8D6E63]"></i>
                </span>
                <span class="flex items-center gap-2 hidden" id="btn-text-spinning">
                    <i data-lucide="sparkles" class="w-5 h-5 animate-spin text-[#8D6E63]"></i>
                    é€£çµä¸­...
                </span>
            </button>

            <!-- é å°¾ç½²å -->
            <div class="mt-8 text-center pb-4 w-full z-10">
                <div class="h-[1px] w-full bg-[#D7CCC8] mb-3 opacity-50"></div>
                <p class="text-[#8D6E63] text-sm font-medium tracking-wide opacity-80 flex items-center justify-center gap-1">
                    <span class="text-xs">âœ¨</span> 
                    å¤©ä½¿ä¹‹æ„›é­”æ³•æ¨‚ç”Ÿæ´»åœ˜éšŠè£½ä½œ 
                    <span class="text-xs">âœ¨</span>
                </p>
            </div>
        </div>

        <!-- çµæœå½ˆçª— Modal -->
        <div id="result-modal" class="absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in hidden">
            <div class="bg-[#FFF] rounded-[2rem] p-5 w-full max-w-[320px] shadow-2xl relative border-[5px] border-[#D7CCC8] transform transition-all animate-scale-up flex flex-col max-h-[85vh] overflow-y-auto hide-scrollbar">
                
                <div class="text-center">
                    <div class="bg-[#D7CCC8] text-white inline-block px-5 py-1.5 rounded-full text-sm font-bold mb-4 shadow-sm">
                        âœ¨ å®‡å®™è¨Šæ¯å·²æ¥æ”¶ âœ¨
                    </div>
                    
                    <div class="mb-4 relative p-4 bg-[#F5F5F5] rounded-xl border-2 border-[#E0E0E0]">
                        <p id="modal-text" class="text-lg font-bold leading-relaxed text-[#5D4037]">
                            <!-- JS å¡«å…¥ -->
                        </p>
                    </div>

                    <div class="flex items-center gap-2 justify-center mb-4 opacity-50">
                        <div class="h-[1px] w-8 bg-[#8D6E63]"></div>
                        <div class="text-[#8D6E63] text-xs">âœ¦</div>
                        <div class="h-[1px] w-8 bg-[#8D6E63]"></div>
                    </div>

                    <div class="text-left bg-[#EFEBE9] p-4 rounded-xl border-2 border-[#D7CCC8] mb-6 relative overflow-hidden">
                        <div class="flex items-center gap-2 mb-2 text-[#5D4037] font-bold text-sm">
                            <i data-lucide="check-circle" class="w-4 h-4 text-[#8D6E63]"></i>
                            <span>ä»Šæ—¥å°è¡Œå‹•ï¼š</span>
                        </div>
                        <p id="modal-action" class="text-[#6D4C41] leading-relaxed font-medium text-sm">
                            <!-- JS å¡«å…¥ -->
                        </p>
                        <i data-lucide="coffee" class="absolute bottom-[-5px] right-[-5px] w-10 h-10 text-[#D7CCC8] opacity-30 rotate-12"></i>
                    </div>

                    <button id="blessing-btn" class="w-full py-3 rounded-xl bg-[#8D6E63] text-white font-bold text-base shadow-[0_4px_0_#5D4037] hover:translate-y-1 hover:shadow-none transition-all flex items-center justify-center gap-2 cursor-pointer">
                        <i data-lucide="heart" class="w-5 h-5 fill-current text-[#FFCCBC]"></i>
                        æˆ‘é¡˜æ„å˜—è©¦
                    </button>
                </div>
            </div>
        </div>

        <!-- ç¥ç¦ç‰¹æ•ˆ -->
        <div id="blessing-overlay" class="absolute inset-0 z-[60] flex items-center justify-center animate-blessing-bg overflow-hidden hidden pointer-events-none">
            <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[4px] h-[150%] bg-white/90 animate-beam shadow-[0_0_30px_white]"></div>
            <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[60px] h-[150%] bg-gradient-to-b from-[#FFE0B2]/0 via-[#FFE0B2]/30 to-white/0 blur-xl"></div>
            
            <div class="relative flex flex-col items-center justify-center z-10 animate-scale-up-gentle">
                <div class="absolute w-[250px] h-[250px] border-4 border-[#FFE0B2]/60 rounded-full animate-ping-slow"></div>
                <div class="absolute w-[180px] h-[180px] border-2 border-dashed border-white/80 rotate-45 animate-spin-slow"></div>
                
                <div class="bg-white px-6 py-3 border-4 border-[#FFCCBC] shadow-xl flex items-center gap-2 rounded-full transform rotate-1">
                    <span class="text-xl animate-bounce">ğŸŒ±</span>
                    <span class="text-[#5D4037] text-lg font-bold tracking-wider">èƒ½é‡ä¸‹è¼‰å®Œæˆ</span>
                    <span class="text-xl animate-bounce" style="animation-delay: 0.1s;">ğŸ•Šï¸</span>
                </div>
            </div>
        </div>

    </div>

    <!-- JavaScript é‚è¼¯ -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // å˜—è©¦åˆå§‹åŒ–åœ–ç¤º
            try { if(window.lucide) lucide.createIcons(); } catch(e) { console.log('Icons loading...'); }

            // è³‡æ–™åº«
            const affirmations = [
                { id: 1, text: "æˆ‘æ“æŠ±è‡ªå·±æ‰€æœ‰çš„é¢å‘ï¼ŒåŒ…å«å…‰æ˜çš„èˆ‡é™°æš—çš„ã€‚", action: "ç…§è‘—é¡å­ï¼Œçœ‹è‘—è‡ªå·±çš„çœ¼ç›èªªä¸‰æ¬¡ï¼šã€Œæˆ‘æ„›ä½ ï¼ŒåŸæœ¬çš„æ¨£å­ã€‚ã€", color: "#BCAAA4" },
                { id: 2, text: "æˆ‘å°è‡ªå·±æœ‰è€å¿ƒï¼Œå…è¨±è‡ªå·±æŒ‰ç…§è‡ªå·±çš„æ­¥èª¿æˆé•·ã€‚", action: "æ³¡ä¸€æ¯ç†±èŒ¶æˆ–å’–å•¡ï¼Œå¼·è¿«è‡ªå·±ã€Œç™¼å‘†ã€5åˆ†é˜ï¼Œä»€éº¼éƒ½ä¸åšã€‚", color: "#A5D6A7" },
                { id: 3, text: "æˆ‘æœ‰èƒ½åŠ›è·¨è¶Šçœ¼å‰çš„éšœç¤™ï¼Œæˆ‘æ¯”æˆ‘æƒ³åƒçš„æ›´å‹‡æ•¢ã€‚", action: "å»åšä¸€ä»¶ä½ æ‹–å»¶å·²ä¹…çš„å°äº‹ï¼ˆä¾‹å¦‚å›ä¸€å°ä¿¡ã€æ•´ç†ä¸€å€‹æŠ½å±œï¼‰ã€‚", color: "#90CAF9" },
                { id: 4, text: "æˆ‘é‡‹æ”¾å°çµæœçš„åŸ·è‘—ï¼Œå°ˆæ³¨æ–¼éç¨‹ä¸­çš„å­¸ç¿’èˆ‡é«”é©—ã€‚", action: "éš¨æ„ç•«ä¸€å¹…å¡—é´‰ï¼Œæˆ–è€…è½ä¸€é¦–è¼•å¿«çš„æ­Œä¸¦è·Ÿè‘—å“¼å”±ã€‚", color: "#FFAB91" },
                { id: 5, text: "æˆ‘æ”¾ä¸‹å°éå»çš„æ‡Šæ‚”å’Œå°æœªä¾†çš„æ“”æ†‚ï¼Œå…¨ç„¶æ´»åœ¨æ­¤åˆ»ã€‚", action: "æ·±å‘¼å¸ï¼Œè§€å¯Ÿä¸¦èªªå‡ºä½ ç¾åœ¨çœ¼å‰çœ‹åˆ°çš„3å€‹é¡è‰²ã€‚", color: "#80CBC4" },
                { id: 6, text: "æˆ‘ä¿¡ä»»å®‡å®™çš„å®‰æ’ï¼Œä¸€åˆ‡ç™¼ç”Ÿåœ¨æœ€å®Œç¾çš„æ™‚é–“é»ã€‚", action: "æŠ¬é ­çœ‹çœ‹å¤©ç©ºæˆ–çª—å¤–çš„æ¨¹ï¼Œæ„Ÿè¬å¤§è‡ªç„¶çš„æ”¯æŒã€‚", color: "#FFE082" },
                { id: 7, text: "æˆ‘åŸè«’è‡ªå·±å’Œä»–äººï¼Œè®“æ„›åœ¨æˆ‘å€‘ä¹‹é–“æµå‹•ã€‚", action: "å¯«ä¸‹ä¸€å€‹è®“ä½ ç³¾çµçš„äººäº‹ç‰©ï¼Œç„¶å¾ŒæŠŠç´™æ’•æ‰ä¸Ÿé€²åƒåœ¾æ¡¶ã€‚", color: "#EF9A9A" },
                { id: 8, text: "æˆ‘é¡˜æ„çµ¦äºˆï¼Œä¹Ÿé¡˜æ„æ•é–‹å¿ƒèƒ¸æ¥å—åˆ¥äººçš„æ„›èˆ‡æ”¯æŒã€‚", action: "å‚³è¨Šæ¯çµ¦ä¸€ä½æœ‹å‹ï¼Œå‘Šè¨´ä»–ï¼šã€Œè¬è¬ä½ çš„å­˜åœ¨ã€‚ã€", color: "#CE93D8" },
                { id: 9, text: "æˆ‘ç™¼å‡ºæ„›çš„é »ç‡ï¼Œä¹Ÿå¸å¼•æ„›çš„é »ç‡ä¾†åˆ°æˆ‘èº«é‚Šã€‚", action: "ä»Šæ™šæ´—æ¾¡æ™‚ï¼Œæƒ³åƒé‡‘è‰²çš„æ°´æµæ²–åˆ·å…¨èº«ï¼Œå……æ»¿æ„›çš„èƒ½é‡ã€‚", color: "#B0BEC5" }
            ];

            // è®Šæ•¸
            let isSpinning = false;
            let rotation = 0;
            let soundEnabled = true;
            let audioContext = null;

            // DOM å…ƒç´ 
            const wheelSvg = document.getElementById('wheel-svg');
            const wheelContainer = document.getElementById('wheel-container');
            const spinBtn = document.getElementById('spin-btn');
            const btnTextIdle = document.getElementById('btn-text-idle');
            const btnTextSpinning = document.getElementById('btn-text-spinning');
            const resultModal = document.getElementById('result-modal');
            const modalText = document.getElementById('modal-text');
            const modalAction = document.getElementById('modal-action');
            const blessingBtn = document.getElementById('blessing-btn');
            const blessingOverlay = document.getElementById('blessing-overlay');
            const soundBtn = document.getElementById('sound-btn');
            const soundIconOn = document.getElementById('sound-icon-on');
            const soundIconOff = document.getElementById('sound-icon-off');

            // ç¹ªè£½è½‰ç›¤ (é—œéµé‚è¼¯)
            const segmentAngle = 360 / 9;
            
            function getSectorPath(index) {
                const startAngle = index * segmentAngle - 90 - (segmentAngle/2);
                const endAngle = (index + 1) * segmentAngle - 90 - (segmentAngle/2);
                const startRad = (startAngle * Math.PI) / 180;
                const endRad = (endAngle * Math.PI) / 180;
                const x1 = 50 + 50 * Math.cos(startRad);
                const y1 = 50 + 50 * Math.sin(startRad);
                const x2 = 50 + 50 * Math.cos(endRad);
                const y2 = 50 + 50 * Math.sin(endRad);
                return `M50,50 L${x1},${y1} A50,50 0 0,1 ${x2},${y2} Z`;
            }

            // ç”Ÿæˆæ‰‡å½¢
            if(wheelSvg) {
                affirmations.forEach((item, index) => {
                    const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
                    const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    path.setAttribute("d", getSectorPath(index));
                    path.setAttribute("fill", item.color);
                    path.setAttribute("stroke", "#FFF");
                    path.setAttribute("stroke-width", "1.5");
                    g.appendChild(path);

                    // æ–‡å­—
                    const angle = (index * segmentAngle) - 90;
                    const rad = (angle * Math.PI) / 180;
                    const textX = 50 + 38 * Math.cos(rad);
                    const textY = 50 + 38 * Math.sin(rad);
                    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    text.setAttribute("x", textX);
                    text.setAttribute("y", textY);
                    text.setAttribute("fill", "#FFF");
                    text.setAttribute("font-size", "9");
                    text.setAttribute("font-weight", "bold");
                    text.setAttribute("text-anchor", "middle");
                    text.setAttribute("dominant-baseline", "middle");
                    text.setAttribute("transform", `rotate(${angle + 90}, ${textX}, ${textY})`);
                    text.setAttribute("style", "text-shadow: 1px 1px 0px rgba(0,0,0,0.1); font-family: 'Varela Round', sans-serif;");
                    text.textContent = item.id;
                    g.appendChild(text);

                    wheelSvg.appendChild(g);
                });
            }

            // éŸ³æ•ˆåŠŸèƒ½
            function initAudio() {
                if (!audioContext) {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                }
                if (audioContext.state === 'suspended') {
                    audioContext.resume();
                }
            }

            function playTickSound() {
                if (!soundEnabled || !audioContext) return;
                const osc = audioContext.createOscillator();
                const gain = audioContext.createGain();
                osc.connect(gain);
                gain.connect(audioContext.destination);
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(600, audioContext.currentTime);
                osc.frequency.exponen
